{% extends "base.html" %}

{% block title %}
Old packages
{% endblock %}


{% block main_data %}
<h1>Old packages</h1>
<p>
  <a href="#about"><i>Description</i></a>
</p>
<table>
<tr>
  <th>Package name</th>
  <th>Most popular version</th>
  <th>Other versions</th>
</tr>
{% for pkg_data in packages %}
{% if pkg_data.package_ok %}
{% else %}
<tr>
  <td style="font-size: 110%;">
    <a href="{{ pkg_data.pkg.get_absolute_url }}">{{ pkg_data.pkg }}</a>
  </td>
  <td style="text-align: center;">
    <span style="font-weight: bold; font-size: 110%;">{{ pkg_data.popular_ver.version }}</span>
    <br />
    <span style="color: gray;">
      ({{ pkg_data.popular_count }} installations)
    </span>
  </td>
  <td>
    <ul style="list-style: none;">
      {% for other_pkg in pkg_data.other_verss %}
      <li>
        <strong>
          {{ other_pkg.packageinstallation_set.count }}
        </strong>
        <span style="color: gray;">
          of
        </span>
        {{ other_pkg.version }}
      </li>
      {% endfor %}
    </ul>
  </td>
</tr>
{% endif %}
{% endfor %}
</table>

<a name="about">&nbsp;</a>

<h2>Description</h2>
<p>
  This report shows packages that have more than 1 version installed.
  If there's only one version of the package installed on indexed hosts,
  the package is not shown here.
</p>
{% endblock %}
