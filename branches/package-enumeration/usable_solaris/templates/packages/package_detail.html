{% extends "base.html" %}

{% block title %}
Package detail:  {{ object }}
{% endblock %}

{% block main_data %}
<h2>{{ object }}</h2>
<p><i>{{ object.name }}</i></p>
<p>Package versions:</p>
<ul>
{% for package_version in object.packageversion_set.all %}
  <li style="clear: both;">
    <strong>{{ package_version.version }}</strong>
    ({{ package_version.packageinstallation_set.count }})
    <ul style="list-style-type: none; padding-left: 1em;">
      {% for packageinstallation in package_version.packageinstallation_set.all %}
      <li style="float: left; width: 20em;">
        <a href="{{ packageinstallation.machine.get_absolute_url }}">{{ packageinstallation.machine }}</a>
      </li>
      {% endfor %}
    </ul>
  </li>
  {% endfor %}
</ul>

{% if object.not_installed_on_machines %}
<h3 style="clear: both; padding-top: 1em;">Not installed on</h3>
<p>No version of {{ object }} is installed on:</p>
<ul style="list-style-type: none; padding-left: 1em;">
  {% for machine in object.not_installed_on_machines %}
  <li style="float: left; width: 20em;">
    <a href="{{ machine.get_absolute_url }}">{{ machine }}</a>
  </li>
  {% endfor %}
</ul>
{% else %}
<p>{{ object }}
is installed on all machines.</p>
{% endif %}

{% if object.patchrevision_set.all %}
<h3 style="clear: both; padding-top: 1em;">Patches applying to this package</h3>
<ul>
{% for patch in object.patchrevision_set.all %}
<li style="bullet-style: none;">
  <a href="{{ patch.get_absolute_url }}">{{ patch }}</a>
</li>
{% endfor %}
</ul>
{% endif %}


{% endblock %}
